<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VibeType</title>
    <link rel="stylesheet" href="./style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Outfit:wght@400;700&display=swap" rel="stylesheet">
  </head>
  <body>
    <canvas id="bg-canvas"></canvas>
    <div id="app">
      <div id="game-container">
        <div id="forbidden-line"></div>
        <div id="word-container"></div>
        <div id="input-display"></div>
        
        <div id="ui-layer">
          <div id="countdown-overlay" class="hidden">3</div>

          <div id="live-stats" class="hidden">
            <div class="stat-item">WPM: <span id="wpm-display">0</span></div>
            <div class="stat-item">ACC: <span id="acc-display">100%</span></div>
            <div class="stat-item" id="timer-container">Time: <span id="timer-display">--</span></div>
          </div>

          <div id="start-screen" class="screen active split-layout">
            <div class="content-left">
              <h1 class="title">VIBETYPE</h1>
              <p class="subtitle">Defend the line.</p>
              
              <div class="mode-select">
                <button class="mode-btn selected" data-mode="survival">SURVIVAL</button>
                <button class="mode-btn" data-mode="time-15">15s BLITZ</button>
                <button class="mode-btn" data-mode="time-30">30s BLITZ</button>
              </div>

              <div class="button-container">
                <button id="start-btn">PLAY</button>
              </div>
            </div>

            <div class="content-right">
              <div id="leaderboard">
                <h3>LEADERBOARD - <span id="leaderboard-mode">SURVIVAL</span> <button id="reset-leaderboard-btn" class="sm-btn">RESET</button></h3>
                <ul id="leaderboard-list">
                  <!-- Scores will be injected here -->
                </ul>
              </div>
            </div>
          </div>
          
          <div id="game-over-screen" class="screen hidden split-layout">
            <div class="content-left">
              <h1 class="title text-red">GAME OVER</h1>
              
              <input type="text" id="player-name-input" placeholder="ENTER NAME" maxlength="12" autocomplete="off">

              <div class="stats-grid">
                <div class="stat-box">
                  <div class="label">Score</div>
                  <div class="value" id="final-score">0</div>
                </div>
                <div class="stat-box">
                  <div class="label">WPM</div>
                  <div class="value" id="final-wpm">0</div>
                </div>
                <div class="stat-box">
                  <div class="label">Accuracy</div>
                  <div class="value" id="final-acc">0%</div>
                </div>
              </div>
              
              <div id="rank-container" class="hidden">
                 <div class="rank-info">RANK: <span id="final-rank">#--</span></div>
                 <div class="percentile-info">Better than <span id="final-percentile">--%</span> of players</div>
              </div>

              <div class="button-group">
                <button id="restart-btn">RETRY</button>
                <button id="menu-btn">MENU</button>
              </div>
            </div>

            <div class="content-right">
               <div id="game-over-leaderboard" class="leaderboard-panel">
                <h3>LEADERBOARD</h3>
                <ul id="game-over-leaderboard-list">
                  <!-- Scores will be injected here -->
                </ul>
              </div>
            </div>
          </div>
          
          <div id="hud" class="hidden">
            <div class="score">Score: <span id="score">0</span></div>
          </div>
        </div>
      </div>
    </div>
    <script type="module" src="/main.js"></script>
  </body>
</html>
